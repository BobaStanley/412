---
title: "D2M assignment notebook"
output: html_notebook
author: "Stanley Go"
date: "`r Sys.Date()`"
  #output: 
    #html_document:
      #df_print: paged
---

This is an [R Markdown](http://rmarkdown.rstudio.com) Notebook. When you execute code within the notebook, the results appear beneath the code. 

Try executing this chunk by clicking the *Run* button within the chunk or by placing your cursor inside it and pressing *Ctrl+Shift+Enter*. 
#CTRL+ALT+ i makes a chunk 
```{r}
plot(cars)
```
```{r}
x <- 2+2
```
```{r}
help()
```


```{r}
2+2
```
Write a function that takes a positive number and makes it negative
```{r}
make_negative <- function(x){
  abs(x)*(-1)
}
```
```{r}
make_negative(-3)
```

```{r}
favenumber <- 8
```
```{r}
?sd

```
```{r}
sd(1:2)^2
```
#doesntwork
 
Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.
create a new code chunk 
```{r}
(7*8) <= make_negative(56)|| TRUE



```

```{r}
my_first_vector <- c(1, 2, 3)
my_second_vector <- c(3, 4, 5)
my_second_vector 
```
```{r}
my_list <- list(my_first_vector, my_second_vector)
my_list
```
```{r}
as.data.frame(my_list)
```
```{r}
x <- 10
if (x < 10){
  print("low")
}else if (x>=10 && x<=20){
  print("medium")
}else{
  print("high")
}

```
Make a for loop that takes a vector of names and prints “Hi NAME” (NAME meaning the names from the vector) for each element of the vector.

```{r}
names <- c("John", "joe", "Stan")
for(name in names){
  message <- paste("Hi", names)
  print(message)
}

```
Make a while loop that samples one name from the vector of names, adds it to a new vector (but only if that name hasn’t already been added), and stops when each name is in the new list at least once.

```{r}
library(tidyverse)

```
```{r}
my_numbers <- c(1,2,3,4,5,8,9,10)
mean(my_numbers)

```
```{r}
glimpse(ChickWeight)

ChickWeight %>%
  select(age_days= Time, weight_gm= weight) %>%  #%>%--just means "and then"
  head( n = 3)
```
```{r}
chick_class <- ChickWeight %>%
  select(chick_id = Chick, diet = Diet, age_days = Time, weight_gm = weight)
```
```{r}
chick_class %>%
  arrange(chick_id) %>%
  head()
```
```{r}
chick_class %>%
  mutate(new_column = "value") %>%
  head(n = 3)
```
```{r}
chick_class %>%
  mutate(weight_per_day = weight_gm/age_days) %>%
  head(n = 3)
```

```{r}
chick_class %>%
  mutate(session = case_when(age_days == 0 ~ "birth",
                             age_days == 20 ~ "last1",
                             age_days == 21 ~ "last2",
                             TRUE           ~ as.character(age_days)))
```
```{r}
chick_class %>%
  mutate(weight_lbs = weight_gm/453.6) %>%
  group_by(diet)%>%
  summarise(n_obs = n(), mean_wgt_gm = mean(weight_gm))
```
```{r}
?pivot_longer
```
```{r}
billboard %>%
  pivot_longer(cols= starts_with("wk"), names_to = "week", values_to = "rank", names_transform = list(week = parse_number)) #or names_prefix = "wk"
```
```{r}
billboard %>%
  separate(col =date.entered, into= c("year", "month", "day"), sep = "-")
```
```{r}
billboard %>%
  separate(col =date.entered, into= c("year", NA, NA), sep = "-")
```
```{r}
?fish_encounters
```
```{r}
fish_encounters %>%
  filter(is.na(seen) == TRUE)
```
```{r}
fish_encounters %>%
  group_by(seen) %>%
  count()
```
```{r}
fish_encounters %>%
  complete(fish, station)
```
```{r}
fish_encounters %>%
  group_by(station) %>%
  count()
```
```{r}
fish_complete <- fish_encounters %>%
  complete(fish, station)
```
```{r}
fish_complete %>%
  group_by(station) %>%
  count()
```
```{r}
fish_encounters %>%
  complete(fish, station, fill = list(seen = 0)) %>%
  group_by(seen) %>%
  count()
  
```
```{r}
fish_encounters %>%
  complete(fish, station) %>%
  replace_na(list(seen=0))
```
```{r}
?read_csv
```

```{r}
billboard %>%
  write_csv("billboard_data.csv")
```

```{r}
billboard_edited <- read_csv("billboard_data.csv", name_repair = "unique")
```
```{r}
billboard_edited
```
```{r}
billboard_edited %>%
  group_by("wk66") %>%
  count()
```
```{r}
billboard_edited %>%
  select(-date.entered...3, date.entered = date.entered...4)
```
```{r}
ezpass <- read_csv("EZPass_PhillyCommute.csv")
```

```{r}
ezpass %>%
  mutate(amount = parse_number(amount))
```

```{r}
ezpass <- read_csv("EZPass_PhillyCommute.csv") %>%
  select(date = `TRANSACTION DATE`, 
         entry_time = `ENTRY TIME`, 
         entry_plaza = `ENTRY PLAZA`, 
         exit_time = `EXIT TIME`, 
         exit_plaza = `EXIT PLAZA`, 
         amount = AMOUNT )
```
```{r}

getwd()
```
```{r}
ezpass %>%
  filter(description == "TOLL") %>%
  arrange(AMOUNT)
  
```
```{r}
ezpass %>%
  distinct(entry_plaza, exit_plaza, amount)
```
```{r}
ezpass %>%
  filter(entry_plaza == "6" & exit_plaza == "9") %>%
  group_by(amount)%>%
  separate(entry_time, into = c("hour", "min", "sec"), remove = FALSE) %>%
  group_by(amount) %>%
  summarise(earliest_entry_hour = min(hour), latest_entry_hour = max(hour))
  
  
```
```{r}
ezpass %>%
  group_by(agency, entry_plaza, entry_time) %>% #creating unique groups for each route
  mutate(amount = parse_number(amount)) %>% #
  summarise(avg_toll, mean(amount)) #taking average toll amounr for each group 
```

```{r}
word_tibble <- tibble(x= 1:3, y= 3, z = x*2 + y)
```

```{r}
#don't use binding when combining data
age_data<- tribble(~id, ~age,
                   1,8,
                   2,10,
                   3,8,
                   5,9)
```
```{r}
gender_data <- tribble(~ id, ~ gender,
                       1, "f",
                       2, "m",
                       3, "mb",
                       4, "y")
```
```{r}
full_join(age_data, gender_data)
```
```{r}

```


When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
